<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TurboCoin Racer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Telegram SDK -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg,#1e3c72,#2a5298);
  color: white;
  text-align: center;
}

header {
  padding: 10px;
  background: rgba(0,0,0,0.4);
}

#wallet {
  display: flex;
  justify-content: space-around;
  font-size: 16px;
}

#gameArea {
  width: 100%;
  height: 60vh;
  background: #222;
  position: relative;
  overflow: hidden;
  border-radius: 15px;
  margin-top: 10px;
}

#road {
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    #555 0px,
    #555 40px,
    #777 40px,
    #777 80px
  );
}

#car {
  width: 50px;
  height: 80px;
  background: red;
  border-radius: 10px;
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
}

.controls {
  margin-top: 10px;
}

button {
  padding: 12px 18px;
  margin: 5px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

.sound {
  background: gold;
}

.play {
  background: limegreen;
}

footer {
  margin-top: 10px;
  font-size: 12px;
  opacity: 0.8;
}
</style>
</head>

<body>

<header>
  <h2>üöó TurboCoin Racer</h2>
  <div id="wallet">
    <div>ü™ô Coins: <span id="coins">0</span></div>
    <div>üí∞ Balance: ‚Çπ<span id="rupees">0</span></div>
  </div>
</header>

<div id="gameArea">
  <div id="road"></div>
  <div id="car"></div>
</div>

<div class="controls">
  <button onclick="moveLeft()">‚¨ÖÔ∏è Left</button>
  <button onclick="moveRight()">‚û°Ô∏è Right</button>
</div>

<div class="controls">
  <button class="play" onclick="startGame()">‚ñ∂Ô∏è Start Game</button>
  <button class="sound" onclick="toggleSound()">üîä Sound</button>
</div>

<footer>
  Play & Earn Coins ‚Ä¢ Withdraw after event
</footer>

<!-- Sounds -->
<audio id="bgMusic" loop>
  <source src="https://assets.mixkit.co/music/preview/mixkit-game-level-music-689.mp3">
</audio>

<audio id="coinSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-bonus-alert-767.mp3">
</audio>

<script>
Telegram.WebApp.expand();

// ===== ADMIN CONFIG (TU YAHAN CONTROL KAREGA) =====
let COIN_TO_RUPEE = 0.5;   // üëà ADMIN change karega (1 coin = ‚Çπ0.5)
let MAX_DAILY_COINS = 1000;
// ================================================

let coins = 0;
let playing = false;
let soundOn = true;
let gameInterval;

const car = document.getElementById("car");
const coinsEl = document.getElementById("coins");
const rupeesEl = document.getElementById("rupees");
const bgMusic = document.getElementById("bgMusic");
const coinSound = document.getElementById("coinSound");

let carPos = 50;

function moveLeft() {
  if(carPos > 10) carPos -= 10;
  car.style.left = carPos + "%";
}

function moveRight() {
  if(carPos < 90) carPos += 10;
  car.style.left = carPos + "%";
}

function startGame() {
  if (playing) return;
  playing = true;

  if (soundOn) bgMusic.play();

  gameInterval = setInterval(() => {
    if (coins >= MAX_DAILY_COINS) {
      stopGame();
      alert("Daily limit reached!");
      return;
    }

    coins += 5; // earning speed
    coinsEl.innerText = coins;
    rupeesEl.innerText = (coins * COIN_TO_RUPEE).toFixed(2);

    if (soundOn) coinSound.play();
  }, 1000);
}

function stopGame() {
  playing = false;
  clearInterval(gameInterval);
  bgMusic.pause();
}

function toggleSound() {
  soundOn = !soundOn;
  if (!soundOn) bgMusic.pause();
}
</script>

</body>
</html>