<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bubble Coin Shooter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg,#6a11cb,#2575fc);
  color: white;
  text-align: center;
}

header {
  padding: 10px;
  background: rgba(0,0,0,0.3);
}

#wallet {
  display: flex;
  justify-content: space-around;
}

#gameArea {
  width: 100%;
  height: 65vh;
  background: #111;
  position: relative;
  overflow: hidden;
  border-radius: 15px;
  margin-top: 10px;
}

.bubble {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  position: absolute;
}

#shooter {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: yellow;
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
}

button {
  margin: 10px;
  padding: 12px 20px;
  font-size: 16px;
  border-radius: 10px;
  border: none;
  background: gold;
}
</style>
</head>

<body>

<header>
  <h2>ðŸ«§ Bubble Coin Shooter</h2>
  <div id="wallet">
    <div>ðŸª™ Coins: <span id="coins">0</span></div>
    <div>ðŸ’° Balance: â‚¹<span id="money">0</span></div>
  </div>
</header>

<div id="gameArea">
  <div id="shooter"></div>
</div>

<button onclick="shootBubble()">ðŸŽ¯ Shoot Bubble</button>

<script>
Telegram.WebApp.expand();

// ===== ADMIN CONFIG =====
let COIN_TO_RUPEE = 0.5;
let COINS_PER_HIT = 5;
// ========================

let coins = 0;
const gameArea = document.getElementById("gameArea");
const coinsEl = document.getElementById("coins");
const moneyEl = document.getElementById("money");

function randomColor() {
  const colors = ["red","yellow","lime","cyan","orange","pink"];
  return colors[Math.floor(Math.random() * colors.length)];
}

function createBubble() {
  const bubble = document.createElement("div");
  bubble.className = "bubble";
  bubble.style.background = randomColor();
  bubble.style.left = Math.random() * 85 + "%";
  bubble.style.top = "0px";
  gameArea.appendChild(bubble);

  let pos = 0;
  const fall = setInterval(() => {
    pos += 2;
    bubble.style.top = pos + "px";
    if (pos > gameArea.clientHeight) {
      clearInterval(fall);
      bubble.remove();
    }
  }, 20);

  bubble.onclick = () => {
    coins += COINS_PER_HIT;
    coinsEl.innerText = coins;
    moneyEl.innerText = (coins * COIN_TO_RUPEE).toFixed(2);
    bubble.remove();
  };
}

// Auto bubbles
setInterval(createBubble, 1500);

function shootBubble() {
  coins += COINS_PER_HIT;
  coinsEl.innerText = coins;
  moneyEl.innerText = (coins * COIN_TO_RUPEE).toFixed(2);
}
</script>

</body>
</html>